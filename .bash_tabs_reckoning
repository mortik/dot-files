#!/bin/bash
#
# Open new Terminal tabs for Reckoning Workplace

function reckoning-startup () {
    osascript &>/dev/null <<EOF
        tell application "iTerm"
            activate
            set reckoningWindow to (create window with default profile)
            tell current window
                tell current session
                    set name to "Reckoning App (process)"
                    write text "cd ~/dev/reckoning/app"
                    write text "run"
                    set reckoningDirTab to (split horizontally with same profile)
                end tell
                tell reckoningDirTab
                    set name to "Reckoning App"
                    write text "cd ~/dev/reckoning/app"
                end tell
                set reckoningLogTab to (create tab with default profile)
                tell current session
                    set name to "Reckoning App (logs)"
                    write text "cd ~/dev/reckoning/app"
                    write text "tail -f log/development.log"
                end tell
            end tell
        end tell
EOF
}
